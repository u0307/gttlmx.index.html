<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Love gongtingting </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- é…ç½®Tailwindè‡ªå®šä¹‰é¢œè‰²å’Œå­—ä½“ -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        love: {
                            light: '#FFD1DC',
                            DEFAULT: '#FF69B4',
                            dark: '#C71585'
                        },
                        romantic: {
                            blue: '#87CEFA',
                            purple: '#DDA0DD',
                            pink: '#FFB6C1'
                        },
                        frame: {
                            wood: '#8B4513',
                            light: '#DEB887',
                            gold: '#D4AF37'
                        }
                    },
                    fontFamily: {
                        romantic: ['Dancing Script', 'cursive', 'sans-serif'],
                        main: ['Segoe UI', 'Roboto', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <!-- è‡ªå®šä¹‰å·¥å…·ç±» -->
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            }
            .float {
                animation: float 6s ease-in-out infinite;
            }
            .heart-beat {
                animation: heartbeat 1.5s ease-in-out infinite;
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
            }
            .frame-swing-left {
                animation: swingLeft 4s ease-in-out infinite;
                transform-origin: top center;
            }
            .frame-swing-right {
                animation: swingRight 4s ease-in-out infinite;
                transform-origin: top center;
            }
            .counter-animation {
                animation: countUp 2s ease-out forwards;
            }
        }
        
        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.1); }
            28% { transform: scale(1); }
            42% { transform: scale(1.1); }
            70% { transform: scale(1); }
        }
        
        @keyframes swingLeft {
            0% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
            100% { transform: rotate(-3deg); }
        }
        
        @keyframes swingRight {
            0% { transform: rotate(3deg); }
            50% { transform: rotate(-3deg); }
            100% { transform: rotate(3deg); }
        }
        
        @keyframes countUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    
    <!-- å¼•å…¥Googleå­—ä½“ -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gradient-to-br from-love-light to-romantic-purple min-h-screen overflow-x-hidden font-main">
    <!-- æ¼‚æµ®çš„çˆ±å¿ƒè£…é¥° -->
    <div id="hearts-container" class="fixed inset-0 pointer-events-none z-0"></div>
    
    <!-- åŠå ç›¸æ¡† -->
    <div class="hidden md:block absolute top-0 left-0 w-1/4 h-screen flex justify-center items-start pt-10 z-10 pointer-events-none">
        <div class="relative w-48 frame-swing-left transition-all duration-500 hover:scale-105 pointer-events-auto">
            <!-- ç»³å­ -->
            <div class="w-1 h-16 bg-frame-gold mx-auto"></div>
            <!-- ç›¸æ¡† -->
            <div class="relative border-8 border-frame-wood rounded-lg shadow-2xl overflow-hidden transform rotate-[-2deg]">
                <!-- ç›¸æ¡†è£…é¥° -->
                <div class="absolute -top-4 -left-4 w-8 h-8 rounded-full bg-frame-gold"></div>
                <div class="absolute -top-4 -right-4 w-8 h-8 rounded-full bg-frame-gold"></div>
                <div class="absolute -bottom-4 -left-4 w-8 h-8 rounded-full bg-frame-gold"></div>
                <div class="absolute -bottom-4 -right-4 w-8 h-8 rounded-full bg-frame-gold"></div>
                
                <!-- ç…§ç‰‡ -->
                <img src="https://s21.ax1x.com/2025/09/24/pV53GSP.jpg" alt="æµªæ¼«æƒ…ä¾£ç…§ç‰‡" class="w-full h-64 object-cover">
                
                <!-- ç›¸æ¡†å†…è¾¹ -->
                <div class="absolute inset-0 border-4 border-frame-light pointer-events-none"></div>
            </div>
        </div>
    </div>
    
    <div class="hidden md:block absolute top-0 right-0 w-1/4 h-screen flex justify-center items-start pt-16 z-10 pointer-events-none">
        <div class="relative w-48 frame-swing-right transition-all duration-500 hover:scale-105 pointer-events-auto">
            <!-- ç»³å­ -->
            <div class="w-1 h-20 bg-frame-gold mx-auto"></div>
            <!-- ç›¸æ¡† -->
            <div class="relative border-8 border-frame-wood rounded-lg shadow-2xl overflow-hidden transform rotate-[3deg]">
                <!-- ç›¸æ¡†è£…é¥° -->
                <div class="absolute -top-4 -left-4 w-8 h-8 rounded-full bg-frame-gold"></div>
                <div class="absolute -top-4 -right-4 w-8 h-8 rounded-full bg-frame-gold"></div>
                <div class="absolute -bottom-4 -left-4 w-8 h-8 rounded-full bg-frame-gold"></div>
                <div class="absolute -bottom-4 -right-4 w-8 h-8 rounded-full bg-frame-gold"></div>
                
                <!-- ç…§ç‰‡ -->
                <img src="https://s21.ax1x.com/2025/09/24/pV533Wt.jpg" alt="æµªæ¼«é£æ™¯ç…§ç‰‡" class="w-full h-64 object-cover">
                
                <!-- ç›¸æ¡†å†…è¾¹ -->
                <div class="absolute inset-0 border-4 border-frame-light pointer-events-none"></div>
            </div>
        </div>
    </div>
    
    <!-- ä¸»å†…å®¹ -->
    <div class="container mx-auto px-4 py-16 relative z-20">
        <header class="text-center mb-12">
            <h1 class="text-[clamp(2.5rem,8vw,5rem)] font-romantic text-love-dark font-bold text-shadow mb-4 transition-all duration-300 hover:text-love">
                ä¸ä½ å…±åº¦çš„æ—¶å…‰
            </h1>
            <p class="text-[clamp(1.2rem,4vw,1.8rem)] font-romantic text-gray-700 max-w-2xl mx-auto">
                æ— è®ºæ™´é›¨ï¼Œæœ‰ä½ çš„æ¯ä¸€å¤©éƒ½æ˜¯ç¾å¥½çš„
            </p>
        </header>
        
        <div class="max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- ä¿¡æ¯å¡ç‰‡ -->
            <div class="lg:col-span-2 space-y-6">
                <!-- æ—¶é—´å’Œä½ç½®å¡ç‰‡ -->
                <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl card-hover">
                    <div class="flex flex-col md:flex-row justify-between items-center">
                        <div>
                            <h2 class="text-xl font-semibold text-gray-700 mb-2 flex items-center">
                                <i class="fa fa-map-marker text-love mr-2"></i>
                                <span id="location">æ­£åœ¨è·å–ä½ç½®...</span>
                            </h2>
                            <p class="text-3xl font-bold text-gray-800" id="current-time">--:--:--</p>
                            <p class="text-gray-600" id="current-date">æ­£åœ¨åŠ è½½æ—¥æœŸ...</p>
                        </div>
                        <div class="mt-4 md:mt-0 text-center">
                            <div class="text-6xl text-romantic-blue" id="greeting-emoji">ğŸ˜Š</div>
                            <p class="text-lg text-gray-700" id="greeting-message">æ—©ä¸Šå¥½</p>
                        </div>
                    </div>
                </div>
                
                <!-- æ‹çˆ±æ—¶é—´å¡ç‰‡ -->
                <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl card-hover">
                    <div class="flex flex-col items-center text-center">
                        <h2 class="text-2xl font-romantic text-love-dark mb-4">
                            <i class="fa fa-heart heart-beat mr-2"></i>æˆ‘ä»¬çš„æ‹çˆ±æ—¶å…‰
                        </h2>
                        
                        <div class="mb-2">
                            <span class="text-gray-600">ä»</span>
                            <span id="relationship-start" class="font-semibold text-gray-800 ml-1">2022-11-03</span>
                            <span class="text-gray-600">å¼€å§‹</span>
                        </div>
                        
                        <div class="my-4">
                            <span id="days-together" class="text-5xl font-bold text-love-dark counter-animation">0</span>
                            <span class="text-xl text-gray-700 ml-2">å¤©</span>
                        </div>
                        
                        <div class="w-full max-w-xs h-2 bg-gray-200 rounded-full overflow-hidden">
                            <div id="love-progress" class="h-full bg-gradient-to-r from-love to-love-dark" style="width: 0%"></div>
                        </div>
                        
                        <p class="mt-4 text-gray-600 text-sm">
                            æ¯ä¸€å¤©éƒ½å› ä½ è€Œæ›´åŠ çè´µ
                        </p>
                    </div>
                </div>
                
                <!-- æµªæ¼«æ–‡å­—å¡ç‰‡ -->
                <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl transform transition-all duration-500 hover:shadow-2xl">
                    <div class="flex justify-center mb-6">
                        <div class="text-love text-5xl heart-beat">
                            <i class="fa fa-heart"></i>
                        </div>
                    </div>
                    
                    <div class="space-y-4 text-gray-700">
                        <p class="text-lg leading-relaxed">
                            æ¯ä¸€æ¬¡è§åˆ°ä½ ï¼Œæˆ‘çš„å¿ƒéƒ½ä¼šè·³å¾—æ›´å¿«ã€‚ä½ çš„ç¬‘å®¹åƒé˜³å…‰ä¸€æ ·æ¸©æš–ï¼Œä½ çš„å£°éŸ³åƒéŸ³ä¹ä¸€æ ·åŠ¨å¬ã€‚
                        </p>
                        <p class="text-lg leading-relaxed">
                            ä¸–ç•Œå¾ˆå¤§ï¼Œäººå¾ˆå¤šï¼Œä½†æˆ‘å¾ˆåº†å¹¸èƒ½é‡è§ä½ ã€‚å’Œä½ åœ¨ä¸€èµ·çš„æ¯ä¸€åˆ»ï¼Œéƒ½æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç¾å¥½çš„æ—¶å…‰ã€‚
                        </p>
                        <p class="text-lg leading-relaxed">
                            ç‚¹å‡»å±å¹•ï¼Œè®©çˆ±å¿ƒè§è¯æˆ‘ä»¬çš„çˆ± â¤ï¸
                        </p>
                    </div>
                    
                    <div class="mt-8 text-center">
                        <button id="love-button" class="bg-love hover:bg-love-dark text-white font-bold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-love/50">
                            <i class="fa fa-heart mr-2"></i>è¡¨è¾¾çˆ±æ„
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- å¤©æ°”å¡ç‰‡ -->
            <div class="space-y-6">
                <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl card-hover">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4 flex items-center">
                        <i class="fa fa-cloud text-romantic-blue mr-2"></i>
                        ä»Šæ—¥å¤©æ°”
                    </h2>
                    
                    <div id="weather-loading" class="text-center py-8">
                        <i class="fa fa-spinner fa-spin text-2xl text-gray-400"></i>
                        <p class="mt-2 text-gray-500">æ­£åœ¨è·å–å¤©æ°”ä¿¡æ¯...</p>
                    </div>
                    
                    <div id="weather-container" class="hidden">
                        <div class="flex justify-between items-center mb-6">
                            <div class="text-6xl" id="weather-icon">â˜€ï¸</div>
                            <div class="text-right">
                                <div class="text-4xl font-bold text-gray-800" id="temperature">--Â°C</div>
                                <div class="text-gray-600 capitalize" id="weather-description">--</div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div class="bg-gray-100 p-3 rounded-lg">
                                <p class="text-gray-500">æ¹¿åº¦</p>
                                <p class="font-semibold text-gray-800 flex items-center">
                                    <i class="fa fa-tint text-romantic-blue mr-1"></i>
                                    <span id="humidity">--</span>
                                </p>
                            </div>
                            <div class="bg-gray-100 p-3 rounded-lg">
                                <p class="text-gray-500">é£é€Ÿ</p>
                                <p class="font-semibold text-gray-800 flex items-center">
                                    <i class="fa fa-wind text-romantic-blue mr-1"></i>
                                    <span id="wind-speed">--</span>
                                </p>
                            </div>
                            <div class="bg-gray-100 p-3 rounded-lg">
                                <p class="text-gray-500">æ°”å‹</p>
                                <p class="font-semibold text-gray-800 flex items-center">
                                    <i class="fa fa-dashboard text-romantic-blue mr-1"></i>
                                    <span id="pressure">--</span>
                                </p>
                            </div>
                            <div class="bg-gray-100 p-3 rounded-lg">
                                <p class="text-gray-500">èƒ½è§åº¦</p>
                                <p class="font-semibold text-gray-800 flex items-center">
                                    <i class="fa fa-eye text-romantic-blue mr-1"></i>
                                    <span id="visibility">--</span>
                                </p>
                            </div>
                        </div>
                        
                        <div class="mt-6 pt-4 border-t border-gray-200">
                            <p class="text-gray-700 italic text-sm" id="weather-advice">
                                æ ¹æ®å¤©æ°”ï¼Œä»Šå¤©é€‚åˆå’Œå¿ƒçˆ±çš„äººä¸€èµ·...
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- å¤©æ°”æç¤ºå¡ç‰‡ -->
                <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl card-hover">
                    <h3 class="text-lg font-semibold text-gray-700 mb-3 flex items-center">
                        <i class="fa fa-lightbulb-o text-yellow-500 mr-2"></i>
                        çˆ±çš„å°è´´å£«
                    </h3>
                    <p class="text-gray-600 text-sm" id="love-tip">
                        å¤©æ°”è½¬å‡‰æ—¶ï¼Œè®°å¾—æé†’TAæ·»åŠ è¡£ç‰©ï¼Œå°å°çš„å…³å¿ƒèƒ½è®©çˆ±æ„å‡æ¸©
                    </p>
                </div>
            </div>
        </div>
        
        <!-- ç§»åŠ¨ç«¯ç›¸æ¡† -->
        <div class="md:hidden mt-10 grid grid-cols-2 gap-6 max-w-md mx-auto">
            <div class="relative frame-swing-left transition-all duration-500 hover:scale-105">
                <!-- ç»³å­ -->
                <div class="w-1 h-8 bg-frame-gold mx-auto"></div>
                <!-- ç›¸æ¡† -->
                <div class="relative border-6 border-frame-wood rounded-lg shadow-xl overflow-hidden transform rotate-[-2deg]">
                    <!-- ç…§ç‰‡ -->
                    <img src="https://s21.ax1x.com/2025/09/24/pV533Wt.jpg" alt="æµªæ¼«æƒ…ä¾£ç…§ç‰‡" class="w-full h-48 object-cover">
                    <!-- ç›¸æ¡†å†…è¾¹ -->
                    <div class="absolute inset-0 border-3 border-frame-light pointer-events-none"></div>
                </div>
            </div>
            
            <div class="relative frame-swing-right transition-all duration-500 hover:scale-105">
                <!-- ç»³å­ -->
                <div class="w-1 h-8 bg-frame-gold mx-auto"></div>
                <!-- ç›¸æ¡† -->
                <div class="relative border-6 border-frame-wood rounded-lg shadow-xl overflow-hidden transform rotate-[3deg]">
                    <!-- ç…§ç‰‡ -->
                    <img src="https://s21.ax1x.com/2025/09/24/pV53GSP.jpg" alt="æµªæ¼«é£æ™¯ç…§ç‰‡" class="w-full h-48 object-cover">
                    <!-- ç›¸æ¡†å†…è¾¹ -->
                    <div class="absolute inset-0 border-3 border-frame-light pointer-events-none"></div>
                </div>
            </div>
        </div>
        
        <footer class="mt-16 text-center text-gray-600">
            <p>Â© 2023 çˆ±çš„è®°å¿† | ç‚¹å‡»å±å¹•åˆ¶é€ æ›´å¤šçˆ±å¿ƒ</p>
        </footer>
    </div>
    
    <script>
        // è®¾ç½®ä½ ä»¬çš„æ‹çˆ±å¼€å§‹æ—¥æœŸï¼ˆè¯·ä¿®æ”¹ä¸ºå®é™…æ—¥æœŸï¼‰
        const RELATIONSHIP_START_DATE = new Date('2022-11-04'); // æ ¼å¼ï¼šå¹´-æœˆ-æ—¥
        
        // å¤©æ°”å›¾æ ‡æ˜ å°„
        const weatherIcons = {
            'clear': 'â˜€ï¸',
            'clouds': 'â˜ï¸',
            'rain': 'ğŸŒ§ï¸',
            'thunderstorm': 'â›ˆï¸',
            'snow': 'â„ï¸',
            'mist': 'ğŸŒ«ï¸',
            'smoke': 'ğŸŒ«ï¸',
            'haze': 'ğŸŒ«ï¸',
            'dust': 'ğŸŒ«ï¸',
            'fog': 'ğŸŒ«ï¸',
            'sand': 'ğŸŒ«ï¸',
            'ash': 'ğŸŒ«ï¸',
            'squalls': 'ğŸ’¨',
            'tornado': 'ğŸŒªï¸',
            'drizzle': 'ğŸŒ¦ï¸'
        };
        
        // çˆ±çš„å°è´´å£«
        const loveTips = [
            "æ™´å¤©é€‚åˆä¸€èµ·å»å…¬å›­æ•£æ­¥ï¼Œäº«å—é˜³å…‰å’Œå½¼æ­¤çš„é™ªä¼´",
            "é›¨å¤©å¯ä»¥åœ¨å®¶ä¸€èµ·çœ‹ç”µå½±ï¼Œç…®ä¸€æ¯çƒ­é¥®ï¼Œæ¸©æš–åˆæµªæ¼«",
            "å¤©æ°”è½¬å‡‰æ—¶ï¼Œè®°å¾—æé†’TAæ·»åŠ è¡£ç‰©ï¼Œå°å°çš„å…³å¿ƒèƒ½è®©çˆ±æ„å‡æ¸©",
            "å¤§é£å¤©é€‚åˆç´§ç´§ç‰µç€TAçš„æ‰‹ï¼Œæ„Ÿå—å½¼æ­¤çš„æ¸©åº¦",
            "é›ªå¤©ä¸€èµ·å †é›ªäººï¼Œåˆ›é€ å±äºä½ ä»¬çš„ç¾å¥½å›å¿†",
            "ä¸ç®¡å¤©æ°”å¦‚ä½•ï¼Œåªè¦å’Œå¯¹çš„äººåœ¨ä¸€èµ·ï¼Œæ¯å¤©éƒ½æ˜¯å¥½æ—¥å­",
            "ç‚çƒ­çš„å¤©æ°”é‡Œï¼Œä¸ºTAå‡†å¤‡ä¸€æ¯å†°é•‡é¥®æ–™ï¼Œæ¸…å‡‰åˆè´´å¿ƒ"
        ];
        
        // æ ¹æ®å¤©æ°”æä¾›å»ºè®®
        const weatherAdvice = {
            'clear': 'å»å…¬å›­æ•£æ­¥ï¼Œäº«å—é˜³å…‰å’Œå½¼æ­¤çš„é™ªä¼´',
            'clouds': 'é€‚åˆä¸€èµ·å»å’–å•¡é¦†å°åï¼ŒèŠèŠå¤©',
            'rain': 'åœ¨å®¶ä¸€èµ·çœ‹ç”µå½±ï¼Œå¬é›¨å£°ï¼Œæ¸©é¦¨åˆæµªæ¼«',
            'thunderstorm': 'å®…åœ¨å®¶é‡Œåšä¸€é¡¿ç¾å‘³çš„æ™šé¤ï¼Œåº¦è¿‡æ¸©é¦¨æ—¶å…‰',
            'snow': 'ä¸€èµ·å †é›ªäººï¼Œæˆ–è€…åœ¨çª—è¾¹å–çƒ­é¥®çœ‹é›ªæ™¯',
            'mist': 'é€‚åˆåœ¨å®¤å†…åšä¸€äº›è½»æ¾çš„æ´»åŠ¨ï¼Œæ¯”å¦‚æ‹¼å›¾æˆ–çœ‹çºªå½•ç‰‡',
            'default': 'äº«å—å½¼æ­¤é™ªä¼´çš„ç¾å¥½æ—¶å…‰'
        };
        
        // è®¡ç®—æ‹çˆ±å¤©æ•°
        function calculateRelationshipDays() {
            const today = new Date();
            // è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æ¯«ç§’å·®
            const timeDiff = today - RELATIONSHIP_START_DATE;
            // è½¬æ¢ä¸ºå¤©æ•°
            const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('days-together').textContent = days;
            
            // æ›´æ–°è¿›åº¦æ¡ï¼ˆä»¥1000å¤©ä¸ºä¸€ä¸ªé‡Œç¨‹ç¢‘ï¼‰
            const progress = Math.min(100, (days % 1000) / 10);
            document.getElementById('love-progress').style.width = `${progress}%`;
            
            // æ ¼å¼åŒ–å¼€å§‹æ—¥æœŸå¹¶æ˜¾ç¤º
            const startDateFormatted = `${RELATIONSHIP_START_DATE.getFullYear()}-${
                String(RELATIONSHIP_START_DATE.getMonth() + 1).padStart(2, '0')}-${
                String(RELATIONSHIP_START_DATE.getDate()).padStart(2, '0')}`;
            document.getElementById('relationship-start').textContent = startDateFormatted;
            
            return days;
        }
        
        // åˆ›å»ºæ¼‚æµ®çš„çˆ±å¿ƒ
        function createFloatingHearts() {
            const container = document.getElementById('hearts-container');
            const colors = ['#FF69B4', '#FF1493', '#DB7093', '#C71585', '#FFB6C1'];
            
            // åˆå§‹åˆ›å»º10ä¸ªçˆ±å¿ƒ
            for (let i = 0; i < 10; i++) {
                const heart = document.createElement('div');
                const size = Math.random() * 30 + 10; // 10-40px
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * 100; // 0-100%
                const delay = Math.random() * 10; // 0-10s å»¶è¿Ÿ
                const duration = Math.random() * 20 + 10; // 10-30s åŠ¨ç”»æ—¶é•¿
                
                heart.innerHTML = '<i class="fa fa-heart"></i>';
                heart.className = 'absolute text-love transition-opacity';
                heart.style.cssText = `
                    left: ${left}%;
                    bottom: -50px;
                    font-size: ${size}px;
                    color: ${color};
                    opacity: ${Math.random() * 0.7 + 0.3};
                    animation: float-up ${duration}s ease-in-out ${delay}s infinite;
                    transform: rotate(${Math.random() * 40 - 20}deg);
                `;
                
                container.appendChild(heart);
                
                // ç§»é™¤è¶…å‡ºå±å¹•çš„çˆ±å¿ƒ
                setTimeout(() => {
                    heart.remove();
                }, (duration + delay) * 1000);
            }
        }
        
        // ç‚¹å‡»å±å¹•åˆ›å»ºçˆ±å¿ƒ
        function createClickHeart(x, y) {
            const container = document.getElementById('hearts-container');
            const colors = ['#FF69B4', '#FF1493', '#DB7093', '#C71585', '#FFB6C1'];
            
            const heart = document.createElement('div');
            const size = Math.random() * 40 + 20; // 20-60px
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            heart.innerHTML = '<i class="fa fa-heart"></i>';
            heart.className = 'absolute';
            heart.style.cssText = `
                left: ${x}px;
                top: ${y}px;
                font-size: ${size}px;
                color: ${color};
                pointer-events: none;
                animation: heart-pop 1s ease-out forwards;
                transform: translate(-50%, -50%);
                opacity: 0.8;
            `;
            
            container.appendChild(heart);
            
            // åŠ¨ç”»ç»“æŸåç§»é™¤
            setTimeout(() => {
                heart.remove();
            }, 1000);
        }
        
        // æ›´æ–°æ—¶é—´å’Œæ—¥æœŸ
        function updateDateTime() {
            const now = new Date();
            
            // æ›´æ–°æ—¶é—´
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('current-time').textContent = `${hours}:${minutes}:${seconds}`;
            
            // æ›´æ–°æ—¥æœŸ
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const weekdays = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
            const weekday = weekdays[now.getDay()];
            document.getElementById('current-date').textContent = `${year}å¹´${month}æœˆ${day}æ—¥ ${weekday}`;
            
            // æ›´æ–°é—®å€™è¯­
            updateGreeting(now.getHours());
        }
        
        // æ›´æ–°é—®å€™è¯­
        function updateGreeting(hour) {
            let greeting, emoji;
            
            if (hour >= 5 && hour < 12) {
                greeting = 'æ—©ä¸Šå¥½ï¼Œæˆ‘äº²çˆ±çš„é¾šå©·å©·';
                emoji = 'ğŸŒ';
            } else if (hour >= 12 && hour < 18) {
                greeting = 'ä¸‹åˆå¥½ï¼Œäº²çˆ±çš„é¾šå©·å©·';
                emoji = 'ğŸŒ¤ï¸';
            } else if (hour >= 18 && hour < 22) {
                greeting = 'æ™šä¸Šå¥½ï¼Œé¾šå©·å©·å®è´';
                emoji = 'ğŸŒ™';
            } else {
                greeting = 'å¤œæ·±äº†ï¼Œæ—©ç‚¹ä¼‘æ¯å“¦ é¾šå©·å©·';
                emoji = 'ğŸŒŒ';
            }
            
            document.getElementById('greeting-message').textContent = greeting;
            document.getElementById('greeting-emoji').textContent = emoji;
        }
        
        // è·å–IPå®šä½
        async function getLocation() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                
                if (data.city && data.region) {
                    document.getElementById('location').textContent = `${data.city}ï¼Œ${data.region}`;
                    // è·å–å¤©æ°”
                    getWeather(data.latitude, data.longitude);
                } else {
                    document.getElementById('location').textContent = 'æ— æ³•è·å–ä½ç½®';
                }
            } catch (error) {
                console.error('è·å–ä½ç½®å¤±è´¥:', error);
                document.getElementById('location').textContent = 'ä½ç½®è·å–å¤±è´¥';
            }
        }
        
        // è·å–å¤©æ°”ä¿¡æ¯
        async function getWeather(lat, lon) {
            try {
                // ä½¿ç”¨OpenWeatherMap API
                const apiKey = 'b1b15e88fa797225412429c1c50c19e'; // å…¬å¼€æµ‹è¯•API key
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=zh_cn`
                );
                const data = await response.json();
                
                if (data.main && data.weather) {
                    // éšè—åŠ è½½çŠ¶æ€ï¼Œæ˜¾ç¤ºå¤©æ°”ä¿¡æ¯
                    document.getElementById('weather-loading').classList.add('hidden');
                    document.getElementById('weather-container').classList.remove('hidden');
                    
                    // æ›´æ–°å¤©æ°”ä¿¡æ¯
                    const mainWeather = data.weather[0].main.toLowerCase();
                    const weatherDesc = data.weather[0].description;
                    
                    document.getElementById('temperature').textContent = `${Math.round(data.main.temp)}Â°C`;
                    document.getElementById('weather-description').textContent = weatherDesc;
                    document.getElementById('humidity').textContent = `${data.main.humidity}%`;
                    document.getElementById('wind-speed').textContent = `${data.wind.speed} m/s`;
                    document.getElementById('pressure').textContent = `${data.main.pressure} hPa`;
                    document.getElementById('visibility').textContent = `${(data.visibility / 1000).toFixed(1)} km`;
                    
                    // è®¾ç½®å¤©æ°”å›¾æ ‡
                    const icon = weatherIcons[mainWeather] || weatherIcons['default'];
                    document.getElementById('weather-icon').textContent = icon;
                    
                    // è®¾ç½®å¤©æ°”å»ºè®®
                    const advice = weatherAdvice[mainWeather] || weatherAdvice['default'];
                    document.getElementById('weather-advice').textContent = `æ ¹æ®å¤©æ°”ï¼Œä»Šå¤©é€‚åˆå’Œå¿ƒçˆ±çš„äººä¸€èµ·${advice}`;
                    
                    // æ›´æ–°çˆ±çš„å°è´´å£«
                    updateLoveTip(mainWeather);
                }
            } catch (error) {
                console.error('è·å–å¤©æ°”å¤±è´¥:', error);
                document.getElementById('weather-loading').innerHTML = `
                    <i class="fa fa-exclamation-triangle text-yellow-500"></i>
                    <p class="mt-2 text-gray-500">æ— æ³•è·å–å¤©æ°”ä¿¡æ¯</p>
                `;
            }
        }
        
        // æ›´æ–°çˆ±çš„å°è´´å£«
        function updateLoveTip(weatherType) {
            // æ ¹æ®å¤©æ°”ç±»å‹é€‰æ‹©åˆé€‚çš„å°è´´å£«
            let tipIndex;
            
            switch(weatherType) {
                case 'clear': tipIndex = 0; break;
                case 'rain': case 'drizzle': tipIndex = 1; break;
                case 'clouds': tipIndex = 6; break;
                case 'thunderstorm': tipIndex = 3; break;
                case 'snow': tipIndex = 4; break;
                default: tipIndex = Math.floor(Math.random() * loveTips.length);
            }
            
            document.getElementById('love-tip').textContent = loveTips[tipIndex];
        }
        
        // æ·»åŠ çˆ±å¿ƒå¼¹å‡ºåŠ¨ç”»
        const style = document.createElement('style');
        style.textContent = `
            @keyframes float-up {
                0% {
                    transform: translateY(0) rotate(0deg);
                    opacity: 0.8;
                }
                100% {
                    transform: translateY(-100vh) rotate(30deg);
                    opacity: 0;
                }
            }
            
            @keyframes heart-pop {
                0% {
                    transform: translate(-50%, -50%) scale(0);
                    opacity: 1;
                }
                50% {
                    transform: translate(-50%, -50%) scale(1.2);
                    opacity: 1;
                }
                100% {
                    transform: translate(-50%, -50%) scale(0) translateY(-50px);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('load', () => {
            // åˆå§‹åŒ–æ—¶é—´
            updateDateTime();
            setInterval(updateDateTime, 1000);
            
            // è®¡ç®—æ‹çˆ±å¤©æ•°
            calculateRelationshipDays();
            
            // è·å–ä½ç½®
            getLocation();
            
            // åˆ›å»ºæ¼‚æµ®çˆ±å¿ƒ
            createFloatingHearts();
            setInterval(createFloatingHearts, 5000);
        });
        
        // ç‚¹å‡»å±å¹•åˆ›å»ºçˆ±å¿ƒ
        document.addEventListener('click', (e) => {
            createClickHeart(e.clientX, e.clientY);
        });
        
        // æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.getElementById('love-button').addEventListener('click', () => {
            // åˆ›å»ºå¤šä¸ªçˆ±å¿ƒ
            for (let i = 0; i < 15; i++) {
                const x = window.innerWidth / 2 + (Math.random() * 200 - 100);
                const y = window.innerHeight / 2 + (Math.random() * 100 - 50);
                setTimeout(() => {
                    createClickHeart(x, y);
                }, i * 100);
            }
        });
    </script>
</body>
</html>


